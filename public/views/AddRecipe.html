<div ng-controller="AddRecipeController as vm" ng-cloak>

  <md-subheader style="background-color: rgb(224, 224, 235); text-align: center; width: 100%;" class="greyBar md-no-sticky">
    <h1>ADD YOUR RECIPE</h1>
  </md-subheader>


  <div layout="row" layout-align="center center">
    <div flex="50">
      <form name="userForm" ng-submit="vm.createRecipe()">

        <md-input-container layout-padding>
          <label>Recipe Name...</label>
          <input required ng-model="vm.recipe.name" />
        </md-input-container>

        <div layout="row" ng-repeat="a in vm.recipe.ingredients" style="padding-left:6px;">
          <md-input-container style="width:70%">
            <label>Ingredient...</label>
            <input required ng-model="vm.recipe.ingredients[$index].choice" />
          </md-input-container>
          <md-input-container style="width:20%">
            <label>Amount...</label>
            <input required ng-model="vm.recipe.ingredients[$index].amount" />
          </md-input-container>
          <md-button type="button" ng-click="vm.recipe.ingredients.splice($index, 1)">X</md-button>
        </div>

        <div style="text-align:center">
          <md-button type="button" class="md-accent" ng-click="vm.recipe.ingredients.push({});" bng-disabled="!vm.recipe.ingredients.choice || !vm.recipe.ingredients.amount">Add Ingredient</md-button>
        </div>

        <md-input-container layout-padding>
          <label>Instructions...</label>
          <textarea ng-model="vm.recipe.instructions" columns="1" md-maxlength="1000"></textarea>
        </md-input-container>

        <md-input-container flex="30" layout-padding>
          <label>Colors:</label>
            <md-select ng-model="vm.recipe.color" >
              <md-option style="background-color: {{color}}" ng-repeat="color in vm.colors">{{color}}</md-option>
            </md-select>
        </md-input-container>

        <div style="text-align:center; padding-top: 50px">
          <md-button type="submit" class="md-raised" ng-disabled="!(vm.recipe.ingredients.length >= 1) || !vm.recipe.name">Submit</md-button>
        </div>
      </form>

      <div style="text-align: center; padding-top: 100px;">
        <md-button class="md-primary" ng-click="vm.goToViewCom()">Back to community</md-button>
      </div>


    </div>
  </div>
</div>
